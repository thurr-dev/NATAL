<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adivinhe a Palavra - Especial Natal üéÑ</title>
    
    <style>
        /* ==================== 
           CSS (Estilos do Jogo) 
           ==================== */
        body {
            font-family: 'Arial', sans-serif;
            background-color: #A32929; 
            background-image: linear-gradient(135deg, #A32929 0%, #006000 100%);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .container {
            background-color: #fff;
            padding: 30px 40px;
            border-radius: 10px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
            width: 100%;
            max-width: 600px;
            text-align: center;
            border: 8px solid #008000; 
        }

        h1 {
            color: #C4302B; /* Vermelho Natal */
            margin-bottom: 15px;
            border-bottom: 2px solid #ddd;
            padding-bottom: 10px;
        }

        .score-display {
            color: #008000; /* Verde Natal */
            font-size: 1.2em;
            margin-bottom: 25px;
            font-weight: bold;
        }

        #fase-titulo {
            color: #C4302B;
            margin-bottom: 10px;
        }
        
        .dica {
            font-style: italic;
            color: #555;
            margin-bottom: 15px;
        }

        .code-box {
            background-color: #fcebeb; /* Fundo levemente vermelho */
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border: 1px solid #C4302B;
        }
        
        /* O C√ìDIGO DISPLAY AGORA MOSTRA O ANAGRAMA EMBARALHADO */
        #codigo-display { 
            font-size: 2.2em;
            font-weight: bold;
            letter-spacing: 5px;
            color: #C4302B; /* Cor Vermelha para o anagrama */
        }

        .input-area {
            display: flex;
            gap: 10px;
            margin-top: 25px;
        }

        #palpite-input {
            flex-grow: 1;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 1.1em;
        }

        button {
            background-color: #008000;
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
            text-transform: uppercase;
        }

        button:hover {
            background-color: #005f00;
        }

        .feedback-message {
            margin-top: 20px;
            padding: 10px;
            border-radius: 5px;
            font-size: 1.2em;
            font-weight: bold;
        }

        .correct {
            color: white;
            background-color: #008000;
        }

        .incorrect {
            color: white;
            background-color: #C4302B;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>üéÑ Adivinhe a Palavra de Natal üéÖ</h1>
        <p class="score-display">Pontua√ß√£o: <span id="pontuacao">0</span> | Tentativas na Fase: <span id="tentativas">5</span></p>

        <div class="game-area">
            <h2 id="fase-titulo">Fase 1</h2>
            
            <p class="dica" id="dica-palavra"></p>
            
            <div class="code-box">
                <p>Letras Embaralhadas:</p>
                <div id="codigo-display"></div> 
            </div>
            
            <div class="input-area">
                <input type="text" id="palpite-input" placeholder="Seu palpite aqui...">
                <button onclick="verificarPalpite()">ADIVINHAR</button>
            </div>

            <p id="feedback" class="feedback-message"></p>
        </div>
    </div>

    <script>
        /* ==================== 
           JAVASCRIPT (L√≥gica do Jogo)
           ==================== */
        
        // O ARRAY DE DADOS DO JOGO (20 Palavras)
        // Usamos o campo 'anagrama' como a nova dica principal.
        const palavrasNatalinas = [
            // Agora: { anagrama: dica principal, solucao, pista }
            { anagrama: "A P O N L E I A P", solucao: "PAPAI NOEL", pista: "Pessoa especial que entrega presentes." },
            { anagrama: "V E O R E R A", solucao: "ARVORE", pista: "Enfeitada com luzes e bolas." },
            { anagrama: "S L O A B", solucao: "BOLAS", pista: "Enfeite de pendurar na √°rvore, geralmente redondo." },
            { anagrama: "L N A A T", solucao: "NATAL", pista: "A data mais importante da celebra√ß√£o." },
            { anagrama: "T E P S N R E E", solucao: "PRESENTE", pista: "O que se espera receber e dar." },
            { anagrama: "N G U L A A D R I", solucao: "GUIRLANDA", pista: "Decora√ß√£o circular para portas." },
            { anagrama: "O E N R T", solucao: "TRENO", pista: "Meio de transporte do Papai Noel." },
            { anagrama: "E T A E R S L", solucao: "ESTRELA", pista: "Geralmente no topo da √°rvore." },
            { anagrama: "O M I N N E", solucao: "MENINO", pista: "O aniversariante da celebra√ß√£o." },
            { anagrama: "R P U E", solucao: "PERU", pista: "Prato principal em muitas ceias." },
            { anagrama: "A R N E", solucao: "RENA", pista: "Animais que puxam o tren√≥." },
            { anagrama: "N T O C A", solucao: "CANTO", pista: "M√∫sica tradicional da √©poca." },
            { anagrama: "S V E A L", solucao: "VELAS", pista: "Fonte de luz e calor para a decora√ß√£o." },
            { anagrama: "I C E A", solucao: "CEIA", pista: "A refei√ß√£o especial da noite (24/12)." },
            { anagrama: "A F E S T", solucao: "FESTA", pista: "Sin√¥nimo de celebra√ß√£o." },
            { anagrama: "O N J A", solucao: "ANJO", pista: "Figura celestial, frequentemente em pres√©pios." },
            { anagrama: "N O S I", solucao: "SINO", pista: "Instrumento musical que anuncia a festa." },
            { anagrama: "P A Z", solucao: "PAZ", pista: "Desejo universal nesta √©poca." },
            { anagrama: "C O N B O E", solucao: "BONECO", pista: "Feito de neve (ou imita√ß√£o)." },
            { anagrama: "F I M I A L A", solucao: "FAMILIA", pista: "Principal foco de uni√£o e amor." }
        ];

        let faseAtual = 0;
        let pontuacao = 0;
        let tentativasRestantes = 5;
        const PONTOS_POR_FASE = 100;

        // Elementos do DOM
        const tituloFase = document.getElementById('fase-titulo');
        const codigoDisplay = document.getElementById('codigo-display');
        const pontuacaoDisplay = document.getElementById('pontuacao');
        const tentativasDisplay = document.getElementById('tentativas');
        const palpiteInput = document.getElementById('palpite-input');
        const feedbackMensagem = document.getElementById('feedback');
        const dicaPalavra = document.getElementById('dica-palavra');

        // Fun√ß√£o para normalizar strings (remover acentos, espa√ßos e tornar mai√∫sculas)
        function normalizarString(str) {
            return str.trim().toUpperCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/\s/g, '');
        }

        // Fun√ß√£o para iniciar a pr√≥xima fase
        function iniciarProximaFase() {
            if (faseAtual < palavrasNatalinas.length) {
                const fase = palavrasNatalinas[faseAtual];
                
                tituloFase.textContent = `Fase ${faseAtual + 1} de ${palavrasNatalinas.length} (Vale ${PONTOS_POR_FASE} Pontos)`;
                // Agora, o elemento "codigo-display" mostra o anagrama
                codigoDisplay.textContent = fase.anagrama; 
                dicaPalavra.textContent = `Pista: ${fase.pista}`;

                tentativasRestantes = 5;
                tentativasDisplay.textContent = tentativasRestantes;
                
                palpiteInput.value = '';
                feedbackMensagem.textContent = '';
                feedbackMensagem.className = 'feedback-message';
                palpiteInput.disabled = false;
                document.querySelector('button').disabled = false;
                palpiteInput.focus();

            } else {
                // Fim do Jogo
                tituloFase.textContent = "FIM DE JOGO! üèÜ";
                codigoDisplay.textContent = `Parab√©ns! Voc√™ completou todas as ${palavrasNatalinas.length} fases.`;
                dicaPalavra.textContent = "Sua pontua√ß√£o final √©:";
                feedbackMensagem.textContent = `${pontuacao} pontos!`;
                feedbackMensagem.className = 'feedback-message correct';
                palpiteInput.style.display = 'none';
                document.querySelector('button').style.display = 'none';
            }
        }

        // Fun√ß√£o principal de verifica√ß√£o do palpite
        function verificarPalpite() {
            if (faseAtual >= palavrasNatalinas.length || tentativasRestantes <= 0) {
                return;
            }

            const palpite = normalizarString(palpiteInput.value);
            const solucao = normalizarString(palavrasNatalinas[faseAtual].solucao);
            
            palpiteInput.value = '';

            if (palpite === solucao) {
                // ACERTOU!
                pontuacao += PONTOS_POR_FASE;
                pontuacaoDisplay.textContent = pontuacao;
                feedbackMensagem.textContent = `üéâ CORRETO! A palavra era: ${palavrasNatalinas[faseAtual].solucao}. Ganhos ${PONTOS_POR_FASE} pontos!`;
                feedbackMensagem.className = 'feedback-message correct';
                
                palpiteInput.disabled = true;
                document.querySelector('button').disabled = true;
                faseAtual++;
                setTimeout(iniciarProximaFase, 2000); 

            } else {
                // ERROU!
                tentativasRestantes--;
                tentativasDisplay.textContent = tentativasRestantes;
                feedbackMensagem.textContent = `‚ùå INCORRETO! Voc√™ errou. Tentativas restantes: ${tentativasRestantes}.`;
                feedbackMensagem.className = 'feedback-message incorrect';
                palpiteInput.focus();

                if (tentativasRestantes <= 0) {
                    feedbackMensagem.textContent = `GAME OVER na Fase ${faseAtual + 1}! A palavra correta era: ${palavrasNatalinas[faseAtual].solucao}.`;
                    palpiteInput.disabled = true;
                    document.querySelector('button').disabled = true;
                    faseAtual++;
                    setTimeout(iniciarProximaFase, 3000);
                }
            }
        }

        // Inicializa o jogo ao carregar a p√°gina
        document.addEventListener('DOMContentLoaded', () => {
            iniciarProximaFase();
            
            // Adiciona evento para a tecla ENTER no input
            palpiteInput.addEventListener('keypress', function (e) {
                if (e.key === 'Enter') {
                    verificarPalpite();
                }
            });
        });

    </script>
</body>
</html>
